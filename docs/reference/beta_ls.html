<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Logistic Regression Analysis Package — beta_ls • lrpackage</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Logistic Regression Analysis Package — beta_ls"><meta property="og:description" content="This package provides a comprehensive set of functions for performing logistic regression analysis. It includes functions for data preprocessing, model fitting, loss computation, bootstrap sampling, plotting logistic curves, predicting probabilities and classes, computing confusion matrices, and calculating various metrics."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">lrpackage</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.1.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"></ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Logistic Regression Analysis Package</h1>
    
    <div class="hidden name"><code>beta_ls.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>This package provides a comprehensive set of functions for performing logistic regression analysis. It includes functions for data preprocessing, model fitting, loss computation, bootstrap sampling, plotting logistic curves, predicting probabilities and classes, computing confusion matrices, and calculating various metrics.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">beta_ls</span><span class="op">(</span><span class="va">predictor</span>, <span class="va">response</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>file</dt>
<dd><p>A <code>string</code> specifying the path to the CSV file for `read_and_prepare_data`.</p></dd>


<dt>data</dt>
<dd><p>A <code>data.frame</code> used in various functions to represent the prepared or sampled data.</p></dd>


<dt>model</dt>
<dd><p>The logistic regression model used in functions like `loss_function_lr`, `plot_logistic_curve`, and others.</p></dd>


<dt>num_bootstraps</dt>
<dd><p>An <code>integer</code> specifying the number of bootstrap samples for `bootstrap_lr`.</p></dd>


<dt>predictions</dt>
<dd><p>The predicted class labels for `confusion_matrix_lr`.</p></dd>


<dt>true_values</dt>
<dd><p>The actual class labels for `confusion_matrix_lr`.</p></dd>


<dt>cutoff_values</dt>
<dd><p>A <code>vector</code> of cutoff values used for classification in `calculate_metrics`.</p></dd>


<dt>predictor_columns</dt>
<dd><p>A vector of column names used as predictors in the logistic model for `bootstrap_lr`.</p></dd>


<dt>response_column</dt>
<dd><p>The name of the response column in the logistic model for `bootstrap_lr`.</p></dd>


<dt>typeofmetric</dt>
<dd><p>A string specifying the metric to plot in `compute_and_plot_logistic_metrics`.</p></dd>


<dt>plot_metric</dt>
<dd><p>Optionally, a specific metric to plot in `compute_and_plot_logistic_metrics`.</p></dd>

</dl></div>
    <div id="value">
    <h2>Value</h2>
    

<p>Depends on the function called, ranging from processed data.frames, logistic regression models, loss values, matrices of coefficients, plots, predicted probabilities and classes, confusion matrices, to lists of calculated metrics.</p>
    </div>
    <div id="author">
    <h2>Author</h2>
    <p>Yingshan Qiu, Shakiru Oluwasanjo Oyeniran, and Sk Nafiz Rahaman</p>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co"># Load the necessary functions (assuming they are defined in a script or package)</span></span></span>
<span class="r-in"><span><span class="co"># source("path_to_your_script.R") # Uncomment and set the path if these functions are in a script</span></span></span>
<span class="r-in"><span><span class="co"># library(your_package_name)      # Uncomment and set the package name if these functions are in a package</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Step 1: Read and preprocess the data</span></span></span>
<span class="r-in"><span><span class="va">data</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/utils/read.table.html" class="external-link">read.csv</a></span><span class="op">(</span>file <span class="op">=</span> <span class="st">"expenses.csv"</span>, header <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>cannot open file 'expenses.csv': No such file or directory</span>
<span class="r-err co"><span class="r-pr">#&gt;</span> <span class="error">Error in file(file, "rt"):</span> cannot open the connection</span>
<span class="r-in"><span><span class="va">data</span><span class="op">$</span><span class="va">sex</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/ifelse.html" class="external-link">ifelse</a></span><span class="op">(</span><span class="va">data</span><span class="op">$</span><span class="va">sex</span> <span class="op">==</span> <span class="st">"male"</span>, <span class="fl">1</span>, <span class="fl">0</span><span class="op">)</span></span></span>
<span class="r-err co"><span class="r-pr">#&gt;</span> <span class="error">Error in data$sex:</span> object of type 'closure' is not subsettable</span>
<span class="r-in"><span><span class="va">data</span><span class="op">$</span><span class="va">smoker</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/ifelse.html" class="external-link">ifelse</a></span><span class="op">(</span><span class="va">data</span><span class="op">$</span><span class="va">smoker</span> <span class="op">==</span> <span class="st">"yes"</span>, <span class="fl">1</span>, <span class="fl">0</span><span class="op">)</span></span></span>
<span class="r-err co"><span class="r-pr">#&gt;</span> <span class="error">Error in data$smoker:</span> object of type 'closure' is not subsettable</span>
<span class="r-in"><span><span class="va">data</span><span class="op">$</span><span class="va">regionnortheast</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/ifelse.html" class="external-link">ifelse</a></span><span class="op">(</span><span class="va">data</span><span class="op">$</span><span class="va">region</span> <span class="op">==</span> <span class="st">"northeast"</span>, <span class="fl">1</span>, <span class="fl">0</span><span class="op">)</span></span></span>
<span class="r-err co"><span class="r-pr">#&gt;</span> <span class="error">Error in data$region:</span> object of type 'closure' is not subsettable</span>
<span class="r-in"><span><span class="va">data</span><span class="op">$</span><span class="va">regionnorthwest</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/ifelse.html" class="external-link">ifelse</a></span><span class="op">(</span><span class="va">data</span><span class="op">$</span><span class="va">region</span> <span class="op">==</span> <span class="st">"northwest"</span>, <span class="fl">1</span>, <span class="fl">0</span><span class="op">)</span></span></span>
<span class="r-err co"><span class="r-pr">#&gt;</span> <span class="error">Error in data$region:</span> object of type 'closure' is not subsettable</span>
<span class="r-in"><span><span class="va">data</span><span class="op">$</span><span class="va">regionsoutheast</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/ifelse.html" class="external-link">ifelse</a></span><span class="op">(</span><span class="va">data</span><span class="op">$</span><span class="va">region</span> <span class="op">==</span> <span class="st">"southeast"</span>, <span class="fl">1</span>, <span class="fl">0</span><span class="op">)</span></span></span>
<span class="r-err co"><span class="r-pr">#&gt;</span> <span class="error">Error in data$region:</span> object of type 'closure' is not subsettable</span>
<span class="r-in"><span><span class="va">x</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/matrix.html" class="external-link">as.matrix</a></span><span class="op">(</span><span class="va">data</span><span class="op">[</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">4</span>, <span class="fl">7</span><span class="op">:</span><span class="fl">10</span><span class="op">)</span><span class="op">]</span><span class="op">)</span></span></span>
<span class="r-err co"><span class="r-pr">#&gt;</span> <span class="error">Error in data[, c(1:4, 7:10)]:</span> object of type 'closure' is not subsettable</span>
<span class="r-in"><span><span class="va">X</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/cbind.html" class="external-link">cbind</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fu"><a href="https://rdrr.io/r/base/nrow.html" class="external-link">nrow</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span><span class="op">)</span>, <span class="va">x</span><span class="op">)</span></span></span>
<span class="r-err co"><span class="r-pr">#&gt;</span> <span class="error">Error in eval(expr, envir, enclos):</span> object 'x' not found</span>
<span class="r-in"><span><span class="va">y</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/matrix.html" class="external-link">as.matrix</a></span><span class="op">(</span><span class="va">data</span><span class="op">[</span>, <span class="fl">5</span><span class="op">]</span><span class="op">)</span></span></span>
<span class="r-err co"><span class="r-pr">#&gt;</span> <span class="error">Error in data[, 5]:</span> object of type 'closure' is not subsettable</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Step 2: Fit the logistic regression model</span></span></span>
<span class="r-in"><span><span class="va">fit_result</span> <span class="op">&lt;-</span> <span class="fu">beta_ls</span><span class="op">(</span>predictor <span class="op">=</span> <span class="va">X</span>, response <span class="op">=</span> <span class="va">y</span><span class="op">)</span></span></span>
<span class="r-err co"><span class="r-pr">#&gt;</span> <span class="error">Error in eval(expr, envir, enclos):</span> object 'X' not found</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Step 3: Plot the logistic regression curve</span></span></span>
<span class="r-in"><span><span class="fu">plot_logistic_curve</span><span class="op">(</span><span class="va">X</span>, <span class="va">fit_result</span><span class="op">$</span><span class="va">coefficient</span>, <span class="va">y</span><span class="op">)</span></span></span>
<span class="r-err co"><span class="r-pr">#&gt;</span> <span class="error">Error in plot_logistic_curve(X, fit_result$coefficient, y):</span> could not find function "plot_logistic_curve"</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Step 4: Calculate and plot logistic regression metrics</span></span></span>
<span class="r-in"><span><span class="va">names</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Prevalence"</span>, <span class="st">"Accuracy"</span>, <span class="st">"Sensitivity"</span>, <span class="st">"Specificity"</span>, <span class="st">"False Discovery Rate"</span>, <span class="st">"Diagnostic Odds Ratio"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="kw">for</span> <span class="op">(</span><span class="va">metric</span> <span class="kw">in</span> <span class="va">names</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span>  <span class="fu">compute_and_plot_logistic_metrics</span><span class="op">(</span>predictor <span class="op">=</span> <span class="va">X</span>, response <span class="op">=</span> <span class="va">y</span>, typeofmetric <span class="op">=</span> <span class="va">metric</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
<span class="r-err co"><span class="r-pr">#&gt;</span> <span class="error">Error in compute_and_plot_logistic_metrics(predictor = X, response = y,     typeofmetric = metric):</span> could not find function "compute_and_plot_logistic_metrics"</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Additional analyses</span></span></span>
<span class="r-in"><span><span class="co"># Bootstrap sampling</span></span></span>
<span class="r-in"><span><span class="va">bootstrap_results</span> <span class="op">&lt;-</span> <span class="fu">bootstrap_lr</span><span class="op">(</span><span class="va">data</span>, predictor_columns <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"sex"</span>, <span class="st">"smoker"</span>, <span class="st">"regionnortheast"</span>, <span class="st">"regionnorthwest"</span>, <span class="st">"regionsoutheast"</span><span class="op">)</span>, response_column <span class="op">=</span> <span class="st">"expenses"</span>, num_bootstraps <span class="op">=</span> <span class="fl">100</span><span class="op">)</span></span></span>
<span class="r-err co"><span class="r-pr">#&gt;</span> <span class="error">Error in bootstrap_lr(data, predictor_columns = c("sex", "smoker", "regionnortheast",     "regionnorthwest", "regionsoutheast"), response_column = "expenses",     num_bootstraps = 100):</span> could not find function "bootstrap_lr"</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Confusion matrix and metrics calculation</span></span></span>
<span class="r-in"><span><span class="va">conf_matrix_results</span> <span class="op">&lt;-</span> <span class="fu">ls_confusion</span><span class="op">(</span>predictor <span class="op">=</span> <span class="va">X</span>, response <span class="op">=</span> <span class="va">y</span><span class="op">)</span></span></span>
<span class="r-err co"><span class="r-pr">#&gt;</span> <span class="error">Error in ls_confusion(predictor = X, response = y):</span> could not find function "ls_confusion"</span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">conf_matrix_results</span><span class="op">)</span></span></span>
<span class="r-err co"><span class="r-pr">#&gt;</span> <span class="error">Error in eval(expr, envir, enclos):</span> object 'conf_matrix_results' not found</span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Sk Nafiz Rahaman.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

      </footer></div>

  


  

  </body></html>

